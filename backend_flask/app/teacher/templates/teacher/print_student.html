{% extends "teacher/print_base.html" %}
{% set title = "á”áŸ„áŸ‡á–á»á˜áŸ’á–á›á‘áŸ’á’á•á›áŸá·áŸáŸ’áŸ" %}
{% block content %}
  <div class="mb-3">
    <h3 class="fw-semibold mb-1">ğŸ« á›á‘áŸ’á’á•á›áŸá·áŸáŸ’áŸ (á˜áŸ’á“á¶á€áŸ‹á˜á½á™)</h3>
    <div class="text-muted">ááŸ’á“á¶á€áŸ‹/á”á“áŸ’á‘á”áŸ‹áŸ– <b>{{ classroom.name }}</b> â€” á”áŸ’ášá…á¶áŸ†ááŸ‚áŸ– <b>{{ term.name }}</b></div>
    <div class="text-muted">á‚áŸ’ášá¼áŸ– <b>{{ teacher.full_name }}</b></div>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <div class="row g-2">
        <div class="col-12 col-md-6"><b>á›áŸááŸá˜áŸ’á‚á¶á›áŸ‹áŸá·áŸáŸ’áŸáŸ–</b> {{ student.student_code }}</div>
        <div class="col-12 col-md-6"><b>áˆáŸ’á˜áŸ„áŸ‡áŸ–</b> {{ student.full_name }}</div>
        <div class="col-12 col-md-4"><b>{{ t('average') }}áŸ–</b> {{ "%.2f"|format(avg) if avg is not none else "-" }}</div>
        <div class="col-12 col-md-4"><b>{{ t('rank') }}áŸ–</b> {{ rank if rank else "-" }}</div>
        <div class="col-12 col-md-4"><b>{{ t('term') }}áŸ–</b> {{ term.name }}</div>
      </div>
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <div class="row g-2">
        <div class="col-12 col-md-4"><b>{{ t('absent') }}áŸ–</b> {{ rec.absent if rec else 0 }}</div>
        <div class="col-12 col-md-4"><b>{{ t('permission') }}áŸ–</b> {{ rec.permission if rec else 0 }}</div>
        <div class="col-12"><b>{{ t('note') }}áŸ–</b> {{ rec.note if rec and rec.note else "-" }}</div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <table class="table table-bordered align-middle mb-0">
        <thead>
          <tr>
            <th style="width:60px">#</th>
            <th>{{ t('subject') }}</th>
            <th style="width:140px">{{ t('score') }}</th>
          </tr>
        </thead>
        <tbody>
          {% for sub in subjects %}
            <tr>
              <td>{{ loop.index }}</td>
              <td>{{ sub.name }}</td>
              <td>{{ mark_map.get(sub.id, '-') }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
